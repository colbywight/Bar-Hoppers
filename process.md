# Factors Contributing to Student Performance across U.S.

### Basic Info
-Colby Wight: colbywight5@gmail.com #A01632572
-Marina Johnson: mkumi5995@gmail.com #A02304894
Url: https://github.com/colbywight/Bar-Hoppers

### Overview and Motivation
Our original motivation for this project was correlating education and funding of schools. This was based off of interest in improving the education system, primarily through technology. However, an analysis of what actually affects school performance would be a good way to analyze how to make improvements. Thus, this project was born. However, the project developed into a more robust dataset rather than just funding or economic values, we were able to find data that provided more information on other possibly influencing factors. Including diversity, crime, funding, attendance, access to facilities, etc. Our goal now is to see which factors seem to have the most influence on school performance and present this data in a way that is interpretable to the user. 

### Related Work
This was a google search we did and looking through these images and articles gave us a few ideas of which I will be posting. Our main concern was trying to show multiple states with multiple attributes to make comparisons. These gave us a few ideas of how to do that, although not all worked out in the end. 
https://www.google.com/search?q=categorical+showing+multiple+attributes&rlz=1C1CHBD_enUS767US767&sxsrf=ACYBGNSjkhqCFCe5tZfkm3f4eNj6SBNmkQ:1573861350957&source=lnms&tbm=isch&sa=X&ved=0ahUKEwiUif-1su3lAhVUoZ4KHX6NAv0Q_AUIEigB&biw=1536&bih=706#imgrc=_
•	Image of overlaying symbol on map: https://www.tableau.com/about/blog/2018/2/how-make-effective-bivariate-choropleth-maps-tableau-83121
•	Web graph encoding multiple attributes: https://www.originlab.com/www/products/GraphGallery.aspx?GID=249
•	Two dimension visualization: https://jovianlin.io/data-visualization-seaborn-part-2/
•	Analyze correlation in high dimensional data: https://stats.stackexchange.com/questions/298108/how-to-analyze-correlation-on-high-dimensional-data

### Questions
The initial questions that we were interested in dealt mainly with school funding and student performance.  We really wanted to see how school funding was related to student performance. We also wanted to see where states were able to perform well without a lot of funding to try to lead us to try to understand why. Specific questions that we really wanted to be able to answer were the following: 
What states and areas of the united states perform best academically?  
How is school funding correlated with academic performance across the united states?  
Within an individual state what subjects are students best at?  
However, we realized that there are so many other factors that could contribute to a students success, and wanted to learn what other factors might contribute to student success . We decided to look for other sources to enrich our data to help gain insight into what other factors are related to academic performance, such as (crime rate, parent income, etc). Some other questions we hope to answer are:
What other factors seem to be correlated (negatively or positively) with student performance across the united states. 
Does crime rate relate to student performance?
If there is a nation wide correlation between a factor and performance, are there any states that don’t seem to follow this pattern, and why do we think that might be? 
Within a state what factors are correlated  most with student performance? 

### Data
Our data will come from a single source although there are many tables we need to link together. We were able to find state data for many different factors, fairly clean, but also needed the values to be integers. For example, if there is a $ for how much funding they are getting we needed to edit it just to have the number. Also renaming column names to be more concise. 
Here is the main website where we found the data: 
https://nces.ed.gov/programs/digest/2017menu_tables.asp
Here are a few of the tables we are getting data from to show their format:
https://nces.ed.gov/programs/digest/d17/tables/dt17_401.60.asp
https://nces.ed.gov/programs/digest/d17/tables/dt17_203.40.asp
https://nces.ed.gov/programs/digest/d17/tables/dt17_203.90.asp
https://nces.ed.gov/programs/digest/d17/tables/dt17_203.70.asp
The data for the student test scores was very easy to obtain once an account was made to be able to download desired data. You had to create a ‘report’ for each dataset you wanted to create. First, you have to select the subjects you are interested in getting data for. Next, you select the grades you are interested in looking at. Data is only available for grades 4, 8 and 12, and not all of the data is available depending on the year and subject of interest. Through this process we realized that only a few of the subjects had good data for many years. In particular math and reading scores were consistently taken every 2 years for the 8th grade. This lack of yearly data for many subjects is what led us  to decide to take the most recent year where the scores were available for math, reading, and science. 
Each subject dataset was downloaded into csv files. These files were opened in excel. The dataset was small enough that it was fast and easy to copy the scores for the subjects and paste them into a single data set. It is also simple to take the average of the three scores and create an ‘average performance’ feature.

### Exploratory Data Analysis
The website that contained the student test scores had some nice built in data exploration tools that we used to get an idea of student test scores across the states. The NAEP Data Explorer tool actually let us make bar charts and line charts to help us get an idea of what the scores look like over time and across states. We were also able to see maps of the us with scores. While these provided some insight both for our visualization design and attribute selection, these graphs only showed the one attribute of student performance in a specific subject at a time. It helped us realize that building a simple heat map of scores and other attributes would not be very useful since we want to see correlation not just one attribute comparing across states. We want to show multiple attributes across states to prove correlation, or possibly no correlation (outliers or factors having no influence on performance). Our biggest enemy is clutter and comparing these three factors attribute scores, across state comparability, to infer correlation or non-correlation. We want a clean, concise, informing visual to show this data. We thought a matrix could do that but found issues with it which are discussed further below. 

### Design Evolution
Here are some sketches we made while developing through our ideas. The first is our idea to try and encode performance of individual subjects. We drew out how we could do a stacked bar chart, or an area chart within a us map and then show performance and funding over time. However, we found it difficult to encode the funding with the individual subject performances in a way that the user could easily see correlation on the same visualization. It was also brought up that our target audience for this data wasn’t very clear. Why would we need to show individual subject data along with funding? Showing funding as a whole for a state didn’t completely explain why a state did better in math rather than english. There was a miscommunication in what we were trying to convey. So we moved onto image two down below. In this design we wanted to have a year selection and show two heat maps, one for performance and one for funding. Then we thought about using a web map if a state was clicked on to show subject performance, just more detail if the user wanted to see it. Then from class we talked about scatterplots being able to show good correlation between two attributes, ours being performance and funding. We would also have a selection of state from the map where it would highlight and how a line graph of the performance and funding over time. The issue with this approach is that we were showing a lot of visualizations, but without a lot of data. So mainly it just became a lot of not super efficient ways to show two attributes, over 50 states, through some 30+ years of data. There was a disconnect again with what we were trying to portray to our audience. Although time would show patterns possibly, it wasn’t an influencing factor on performance. There is also the issue of clutter. Thus moving us onto our third design. 
For our third design we scrapped using time and individual subjects. We were able to find datasets that encoded more enriched data with multiple attributes representing factors that could be applicable to student performance. Now we had the issue of how to best communicate correlation with multi-dimensional data. We were not sure what the map would be for other than showing a common visualization to help our users understand what states they are looking at. We also thought about displaying performance to show comparability between states just on performance alone. In this way a user could see if a state was doing well what other attributes were they doing well in as well. Then they could easily compare with a state not doing so well. We knew that scatter plots were good for showing correlation, however, it was only for a single attribute in comparison to our comparison attribute which is performance. Thus we needed a way to see multiple states with multiple attributes so we thought a matrix would be a good way to show this. Here is the implementation of our matrix: 
It seemed good in theory, however, when we actually ended up implementing it it was difficult to tell the correlation of the attributes to a states performance. The issues were that it wasn’t perfectly clear that you were trying to compare all the attributes box colors to the performance box color of a particular state. This is probably issues with spatial representation and a learning curve. Since most people read left to right it seemed more intuition to make comparisons that way rather than vertically. Also the matrix was more represented as a heat map which is usually looking for patterns in spatial area. Ours had no relation to where the square was located in relation to its neighbors so the spatial position and color had no meaning but was being interpreted that way. Which moves us onto design four.
This is our final design where it is really trying to answer our main question, which attributes affect the way a student performs. We have our map, which as stated before compares performances of a state so a user can see which states are doing well and not doing well so they can make decisions of which states to select for comparison. Then we have a series of bars with bars plotted onto them. There is a bar for each state and the points on them are where all their attributes lie on a scale of 0 to 1. Then the performance bar which stands out from the rest has a correlation deviation represented by dotted lines surrounding it. If an attribute bar lands within this part, we will consider it to probably be correlated in this one instance of a state as they have similar scores. Then to double check if the pattern is agreeable across states we will have an attribute selection which brings up a scatter plot per attribute and compares it against performance plotting all the states. This way we can actually see if there is a relation. If the scatter plot is all over the place, then the one correlation from the bar graph was probably just a coincidence or a special case for that state and not a regular pattern. It could also be an outlier that is the only factor showing if a state does well, so maybe if other states did well in that attribute their performance could go up too. Then we will also have a highlighting tool to highlight both bars on the bar graph so that a user can see specific attributes and where they generally are positioned in relation to performance and highlighting states on the scatterplot. This way a user can compare specific states and where they lie on an attribute to performance scale and compare state by state that way. 
We definitely deviated from our original proposal, mainly because of all the problems I listed above and our fatal flaw, which was not answering our main question. 
See the pdf for sketeches of the visualization ideas [here](ProcessMDImages/Process-Book-Images.pdf). 

### Implementation
See the pdf for sketeches of the visualization ideas [here](ProcessMDImages/Process-Book-Images.pdf). 
Here is a sketch of our current implementation. We have our first element which is a US states map with the performance as the fill of each state and the map legend off to the side. A user will be indicated to interact with the map when on hovering over it there will be a slight highlight feature. A user can select multiple states at once, but once a state is clicked it moves to our second feature, which is below the map. These bars next to the state name are on a scale just like the map legend (you can see the shading will be the same). And on these bars are bar points indicating where each attribute lies on the scale as well. Attributes being all the factors we think could have correlation to student performance. There is a large bar with an white outline which is performance and what we’re comparing everything towards. The dotted box surround this point is to show attributes that fall within a possible correlation threshold. A user can hover over each bar where it will display the attribute name, value on the scale, and numerical value in the data. The bar seems to be a good choice as it helps show correlation for a single state, yet is comparable to other states as well, which was a struggle for the matrix. On this scale for every state there are also bars that are not dark and highlighted, this brings us to our third element which is the attribute selector. A user can toggle an attribute on and off with the button next to each name which will highlight the bar associated with that attribute on the state attribute bars showing all attributes. Toggling an attribute on also produces a scatter plot which is our fourth element. There is a scatterplot for each attribute with all states plotted. This is to show whether or not that attribute consistently correlates with the performance of a state or not, rather than in the state bars it just shows correlation for a single state. It can also display outliers which can be identified by hovering over it to display the state name in a tooltip. A user can also highlight states by using the state selection on the map to produce that state’s point on the scatterplot to change color. 
One thing I have considered that differs from the sketch above is that for the state bars to actually have all the performance bars lined up and have the legend bar unaligned for each state so that everything is centered around performance. They may also be ordered alphabetically for simplicity and readability. There also might be a little bit of time where we can show the ranking of correlation depending on where it ranks per state. We will probably do this using a stacked bar graph. I’m not 100% convinced this is good though because there might be some outlier attributes that affect a state but will be overlooked due to the ranking process.

### Evaluation
Using the map to only display the student performance, helped us to keep that context and highlight that this is the main attribute we are interested in relating to all the other factors. Here we learned what states had better performance and could compare this to other states in the same area or across the US. This also made it easy for the user to select the states they were interested in learning more about with the other visualizations. The bars for each state helped users to see the correlation of all the factors to school performance. The scatter plots with highlighting states of interest really helped us to explore and identify the states that did not follow the trends. We have not gotten all the real data in for the visualization elements, which is simply a plug and play, however we hope to easily spot correlation patterns in both good and bad school performances. We also hope to find outliers that may have an influencing factor as well. I think it works well given the limitations. However, I wish we had more time to maybe try some overlapping layers. That would’ve been one way we could’ve encoded one our our factors, maybe comparison of states, or comparison of attributes. It would use a little working memory but it would be nice. 

